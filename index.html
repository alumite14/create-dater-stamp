<!DOCTYPE html>
<html lang="jp">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>データ印作成アプリ</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1>データ印作成App</h1>
    </header>
    <div class="content-wrapper">
      <div class="formContainer">
        <form id="dataForm">
          <label for="name">名前</label>
          <input type="text" id="name" required value="宇都宮" />

          <label for="department">部署名</label>
          <input type="text" id="department" required value="総務部" />

          <label for="date">日付</label>
          <input type="date" id="date" required />

          <!-- フォントの選択肢 -->
          <label for="font-family">フォント</label>
          <select id="font-family">
            <option value="Arial">Arial</option>
            <option value="Helvetica">Helvetica</option>
            <option value="Times New Roman">Times New Roman</option>
            <option value="serif">明朝体</option>
            <!-- 他の利用可能なフォントを追加 -->
          </select>

          <!-- 日付の選択肢 -->
          <label for="date-format">日付の形式</label>
          <select id="date-format">
            <option value="'yy,mm,dd">'yy,mm,dd</option>
            <option value="yyyy-mm-dd">yyyy-mm-dd</option>
            <option value="yyyy/mm/dd">yyyy/mm/dd</option>
            <option value="yyyy.mm.dd">yyyy.mm.dd</option>
          </select>

          <!-- カラーの選択肢 -->
          <label for="color">カラー</label>
          <input type="color" id="color" value="#EF454A" />

          <!-- SVGの透過の有無 -->
          <label for="transparent">透過</label>
          <label class="toggle-button-001">
            <input type="checkbox" id="transparent" />
          </label>
        </form>
        <button id="downloadButton">ダウンロード</button>
      </div>

      <div class="svgContainer">
        <div id="svgOutput"></div>
      </div>
    </div>

    <script>
      // 今日の日付を取得してinput要素にセットする
      const today = new Date().toISOString().slice(0, 10);
      document.getElementById("date").value = today;

      // JSONファイルを読み込む関数
      async function fetchJSONData() {
        const response = await fetch("data.json"); // JSONファイルのパスを指定
        if (!response.ok) {
          throw new Error("Failed to fetch JSON data");
        }
        return await response.json();
      }

      // ページの読み込みが完了した後に実行
      window.addEventListener("DOMContentLoaded", async () => {
        try {
          // JSONファイルを読み込む
          const jsonData = await fetchJSONData();

          // input要素の初期値を設定
          const nameInput = document.getElementById("name");
          nameInput.value = jsonData.name; // JSONデータの"name"プロパティに対応

          const departmentInput = document.getElementById("department");
          departmentInput.value = jsonData.department; // JSONデータの"department"プロパティに対応

          // 他のinput要素も同様に設定
        } catch (error) {
          console.error(error);
        }
      });
    </script>
    <script src="script.js"></script>
  </body>
</html>
